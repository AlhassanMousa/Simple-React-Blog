{"ast":null,"code":"import _slicedToArray from\"/home/hassan/React/React-Projects/ooooooooooo-React-ninja-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{useLocation}from'react-router-dom';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Create=function Create(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];var CreatedAt=new Date().toLocaleString();var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isPending=_useState8[0],setIsPending=_useState8[1];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();var blog={title:title,body:body,author:author,CreatedAt:CreatedAt};setIsPending(true);fetch('https://my-json-server.typicode.com/AlhassanMousa/jsonDbForBlog/blogs',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(blog)}).then(function(){console.log('new blog Added');setIsPending(false);//history.go(-1);\nhistory.push('/');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a new Blog\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blog title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Blog body:\"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:body,onChange:function onChange(e){return setBody(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Blog author:\"}),/*#__PURE__*/_jsxs(\"select\",{value:author,onChange:function onChange(e){return setAuthor(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Hassan\",children:\"Hassan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hassan2\",children:\"Hassan2\"})]}),!isPending&&/*#__PURE__*/_jsx(\"button\",{children:\"Add blog\"}),isPending&&/*#__PURE__*/_jsx(\"button\",{children:\"Adding Blog...\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{value:CreatedAt,children:[CreatedAt,\" \"]})]})]});};export default Create;","map":{"version":3,"sources":["/home/hassan/React/React-Projects/ooooooooooo-React-ninja-Blog/src/Create.js"],"names":["useState","useLocation","useHistory","Create","title","setTitle","body","setBody","author","setAuthor","CreatedAt","Date","toLocaleString","isPending","setIsPending","history","handleSubmit","e","preventDefault","blog","fetch","method","headers","JSON","stringify","then","console","log","push","target","value"],"mappings":"qLAAA,OAAQA,QAAR,KAAuB,OAAvB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACOH,QAAQ,CAAC,EAAD,CADf,wCACVI,KADU,eACJC,QADI,8BAEOL,QAAQ,CAAC,EAAD,CAFf,yCAEVM,IAFU,eAEJC,OAFI,8BAGUP,QAAQ,CAAC,EAAD,CAHlB,yCAGVQ,MAHU,eAGHC,SAHG,eAIjB,GAAMC,CAAAA,SAAS,CAAI,GAAIC,CAAAA,IAAJ,GAAWC,cAAX,EAAnB,CAJiB,eAKiBZ,QAAQ,CAAC,KAAD,CALzB,yCAKVa,SALU,eAKCC,YALD,eAMjB,GAAMC,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CAID,GAAMc,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,CAACf,KAAK,CAALA,KAAD,CAAOE,IAAI,CAAJA,IAAP,CAAYE,MAAM,CAANA,MAAZ,CAAoBE,SAAS,CAATA,SAApB,CAAb,CAEAI,YAAY,CAAC,IAAD,CAAZ,CAGJM,KAAK,CAAC,uEAAD,CAA0E,CAC/EC,MAAM,CAAC,MADwE,CAE/EC,OAAO,CAAE,CAAC,eAAiB,kBAAlB,CAFsE,CAG/EhB,IAAI,CAAGiB,IAAI,CAACC,SAAL,CAAeL,IAAf,CAHwE,CAA1E,CAAL,CAKGM,IALH,CAKQ,UAAM,CACVC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAb,YAAY,CAAC,KAAD,CAAZ,CACA;AACAC,OAAO,CAACa,IAAR,CAAa,GAAb,EACF,CAVF,EAYC,CAnBD,CAqBC,mBACA,aAAK,SAAS,CAAC,QAAf,wBACI,sCADJ,cAEI,cAAM,QAAQ,CAAEZ,YAAhB,wBACI,sCADJ,cAEM,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,KAA3B,CAA6B,KAAK,CAAEZ,KAApC,CAA2C,QAAQ,CAAE,kBAACa,CAAD,QAAMZ,CAAAA,QAAQ,CAACY,CAAC,CAACY,MAAF,CAASC,KAAV,CAAd,EAArD,EAFN,cAGM,qCAHN,cAIM,iBAAW,QAAQ,KAAnB,CAAqB,KAAK,CAAExB,IAA5B,CAAkC,QAAQ,CAAE,kBAACW,CAAD,QAAMV,CAAAA,OAAO,CAACU,CAAC,CAACY,MAAF,CAASC,KAAV,CAAb,EAA5C,EAJN,cAKM,uCALN,cAOM,gBAAU,KAAK,CAAEtB,MAAjB,CAAyB,QAAQ,CAAE,kBAACS,CAAD,QAAMR,CAAAA,SAAS,CAACQ,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EAAnC,wBACA,eAAQ,KAAK,CAAC,QAAd,oBADA,cAEA,eAAQ,KAAK,CAAC,SAAd,qBAFA,GAPN,CAWO,CAACjB,SAAD,eAAc,oCAXrB,CAYOA,SAAS,eAAI,0CAZpB,cAaM,aAbN,cAcI,eAAQ,KAAK,CAAEH,SAAf,WAA2BA,SAA3B,OAdJ,GAFJ,GADA,CAyBH,CAxDD,CA0DA,cAAeP,CAAAA,MAAf","sourcesContent":["import {useState} from \"react\";\nimport {useLocation} from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\n\nconst Create = () => {\n    const [title,setTitle] =useState('');\n    const [body, setBody] = useState('');\n    const [author,setAuthor] = useState('');\n    const CreatedAt =  new Date().toLocaleString();\n    const [isPending, setIsPending] = useState(false);\n    const history = useHistory();\n\n\n\n   const handleSubmit =(e)  =>{\n       e.preventDefault();\n       const blog = {title,body,author, CreatedAt };  \n     \n       setIsPending(true);\n\n\n   fetch('https://my-json-server.typicode.com/AlhassanMousa/jsonDbForBlog/blogs', {\n   method:'POST',\n   headers: {\"Content-Type\" : \"application/json\"},\n   body : JSON.stringify(blog)\n\n   }).then(() => {\n       console.log('new blog Added');\n       setIsPending(false);\n       //history.go(-1);\n       history.push('/');\n    })\n\n   }\n\n    return ( \n    <div className=\"create\">\n        <h2>Add a new Blog</h2>\n        <form onSubmit={handleSubmit}>\n            <label>Blog title:</label>\n              <input type=\"text\" required  value={title} onChange={(e) =>setTitle(e.target.value)} />\n              <label>Blog body:</label>\n              <textarea  required  value={body} onChange={(e) =>setBody(e.target.value)} ></textarea>\n              <label>Blog author:</label>\n\n              <select   value={author} onChange={(e) =>setAuthor(e.target.value)}  >\n              <option value=\"Hassan\">Hassan</option>\n              <option value=\"Hassan2\">Hassan2</option>\n              </select>\n              {!isPending && <button>Add blog</button> }\n              {isPending && <button>Adding Blog...</button> }\n              <br />\n            <label  value={CreatedAt}>{CreatedAt} </label> \n            \n        </form>\n        \n    </div>\n        \n\n     );\n}\n \nexport default Create;"]},"metadata":{},"sourceType":"module"}